{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS",
    "buildCommand": "node -e \"const [maj,min]=process.versions.node.split('.').map((v)=>Number(v||0)); if (maj<22 || (maj===22 && min<12)) { console.error('Node 22.12+ is required for OpenCawt builds.'); process.exit(1); }\" && npm run build"
  },
  "deploy": {
    "startCommand": "npm start",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 3
  }
}
